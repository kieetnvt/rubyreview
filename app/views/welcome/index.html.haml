.row
  .col-lg-12.col-md-12.col-sm-12.col-xs-12
    = form_tag(review_path, method: :post, class: 'form-horizontal') do
      %fieldset
        %legend #Code
        .form-group
          = text_area_tag :current_code, @current_code, {class: 'lined form-control', id: 'text-current-code', rows: 60, spellcheck: false}
      = submit_tag 'Review', {class: 'btn btn-danger'}
.row
  .col-lg-6.col-md-6.col-sm-12.col-xs-12
    %fieldset
      %legend #Smells
      .form-group
        - if @analysers_formated
          - @analysers_formated.each_with_index do |smell, index|
            %p
              At Line:
              = smell.locations.first.line
              Smell type:
              = smell.type
              Message:
              = smell.context
              = smell.message
:javascript
  var editor = CodeMirror.fromTextArea(document.getElementById("text-current-code"), {
    mode: "text/x-ruby",
    matchBrackets: true,
    indentUnit: 2,
    theme: 'monokai',
    smartIndent: true,
    tabSize: 2,
    lineNumbers: true
  });
  editor.markText({line: 6, ch: 26}, {line: 6, ch: 42}, {className: "styled-smell"});
